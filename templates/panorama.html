{% extends "base.html" %}
{% block head %}
    {{ super() }}
    {% block opengraph %}
    {{ super() }}
    <meta property="og:type" content="place" />
    <meta property="og:title" content="{{ article.title }}" />
    <meta property="og:url" content="{{ SITEURL }}/{{ article.url }}" />
    <meta property="og:image" content="{{ SITEURL }}/{{ PANNELLUM.sizes_folder }}/{{article.scene}}/{{article.scene}}-preview.jpg" />
    <meta property="place:location:latitude"  content="{{ article.exif.lat}}" /> 
    <meta property="place:location:longitude" content="{{ article.exif.lng}}" /> 
    {% endblock opengraph %}
    {% for keyword in article.keywords %}
    <meta name="keywords" contents="{{keyword}}" />
    {% endfor %}
    {% for description in article.description %}
    <meta name="description" contents="{{description}}" />
    {% endfor %}
    {% for tag in article.tags %}
    <meta name="tags" contents="{{tag}}" />
    {% endfor %}
    <link rel="stylesheet" href="{{ SITEURL }}/theme/css/leaflet.css" />
{% endblock %}

{% block title %}
    {{ article.title}} &mdash; {{ SITENAME }}
{% endblock title %}


{% block hero %}
  <div class="hero pannellum">
      <div class="content">
          <iframe id="pannellum" src="{{ PANNELLUM.tile_url }}/pannellum.html?tour={{ article.scene }}/tour.json"
            allowfullscreen
            title="pannellum panorama viewer"></iframe>
      </div>
  </div>
{% endblock %}

{% block content %}
<section id="content">
{% include 'previous-next.html' %}

<a href="{{ PANNELLUM.tile_url }}/{{ article.scene }}/tour.json">json</a>

<article>
  <div class="pure-g">
      <div class="pure-u-1">
          <header>
          {% include 'metadata.html' %}
          </header>
      </div>
  </div>

  <div class="pure-g">

      <div class="pure-u-1 pure-u-md-1-3">
          <div class="l-box">
          <h3>Description</h3>
          <p>{{ article.content }}</p>
          </div>
      </div>

      <div class="pure-u-1 pure-u-md-1-3">
          <div class="l-box">
          <h3>Details</h3>
            <table class="pure-table pure-table-bordered exif">
                <tbody>
                    <tr>
                        <th>Camera</th>
                        <td>{{ article.exif.make }} {{ article.exif.model }}</td>
                    </tr>
                    <tr>
                        <th>Lens</th>
                        <td>{{ article.exif.lens }}</td>
                    </tr>
                    <tr>
                        <th>Size</th>
                        <td>{{ article.exif.width }}x{{ article.exif.height }}&nbsp;px</td>
                    </tr>
                    
                    {% if article.exif.exposure %}
                    <tr>
                        <th>Exposure</th>
                        <td>1/{{ article.exif.exposure }}&nbsp;<abbr title="seconds">s</abbr></td>
                    </tr>
                    {% endif %}
                    
                    {% if article.exif.taken %}
                    <tr>
                        <th>Taken</th>
                        <td>{{ article.exif.taken.strftime("%d.%m.%Y")  }}</td>
                    </tr>
                    {% endif %}
                    {% if article.exif.comment %}
                    <tr>
                        <th>Comment</th>
                        <td>
                            <ul>
                            {% for comment in article.exif.comment %}
                                <li>{{ comment }}</li>
                            {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    {% endif %}
                    <tr>
                        <th>Latitude</th>
                        <td>{{ article.Latitude }}</td>
                    </tr>
                    <tr>
                        <th>Longitude</th>
                        <td>{{ article.Longitude }}</td>
                    </tr>
                </tbody>    
            </table>
          <p>exif {{ article.exif }}</p>
          </div>
      </div>
  
      <div class="pure-u-1 pure-u-md-1-3">
          <div class="l-box">
              <h3>Location</h3>
              <div id="map">
              </div>
          </div>
      </div>
  </div>
</article>
</section>

{% endblock %}

{% block footer %}
{% endblock %}



{% block footer_javascript %}
{{ super() }}
<script src="{{ SITEURL }}/theme/js/leaflet.js"></script>
<script type="text/javascript" src="{{ SITEURL }}/theme/js/panomap.js"></script>
{% endblock footer_javascript %}
